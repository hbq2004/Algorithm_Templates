# 对拍

## 前置配置

```cpp
using i64 = long long;
using i128 = __int128;
using u32 = unsigned int;
using PII = pair<int, int>;

constexpr int MOD = 998244353;
constexpr u32 umx = UINT_MAX; // random_float
```

`mt19937` ( `#include <random>` )

```cpp
// unsigned int, unsigned long long
mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());
mt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());
```


## 生成随机数

```cpp
i64 random(i64 n) { // [0, n - 1]
	return ((i128)rng() * rng() % n + MOD) % n;
}

i64 random_negative(i64 n) { // [-n, n]
	return random(2 * n + 1) - n;
}

double random_float(i64 n) { // [0, 1) * (n - 1) => [0, n - 1)
	return rng() / (double)(umx) * random(n);
}
```

## 生成随机树

```cpp
void getTree(int n) { // Node 1 is the root as default
    for (int i = 2; i <= n; i++) {
        int p = random(i - 1) + 1;
        fout << p << ' ' << i << '\n'; // p -> i
    }
}
```

## 生成随机图

```cpp
void getGraph(int n, int m) {
    set<PII> S;
    for (int i = 2; i <= n; i++) {
        int p = random(i - 1) + 1;
        fout << p << ' ' << i << '\n'; // (p, i);
        S.insert({p, i});
    }
    for (int i = 0; i < n - m + 1; i++) {
        int u, v;
        do {
            u = random(n) + 1, v = random(n) + 1;
        } while (u == v || S.count({u, v}));
        S.insert({u, v});
        fout << u << ' ' << v << '\n'; // (u, v)
    }
}
```